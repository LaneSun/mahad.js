(e=>{const t={apply:(e,t,n)=>{const s=new MahadElem;return n.length&&s.attr("inner",n),s},get:(e,t)=>{const s=()=>{};return s.ename=t,s.attrs=[],new Proxy(s,n)}},n={apply:(e,t,n)=>{const s=new MahadElem(e.ename);n.length&&s.attr("inner",n);for(const[t,n]of e.attrs)s.attr(t,n);return s},get:(e,t)=>(...s)=>{const a=()=>{};return a.ename=e.ename,a.attrs=t.startsWith("$")?e.attrs.concat([[t.slice(1),s[0]]]):e.attrs.concat([[t,s]]),new Proxy(a,n)}};e.ME=new Proxy((()=>{}),t);const s=Symbol("mahad"),a={id:e=>[t=>e.id=t],title:e=>[t=>e.title=t],text:e=>[t=>e.textContent=t],class:e=>[t=>e.classList.add(t),t=>e.classList.remove(t)],src:e=>[t=>e.src=t],value:(e,t)=>(e.addEventListener("change",(()=>{t.val=e.value})),[t=>e.value=t]),style:e=>[(t,n)=>{t instanceof Array?t.guard(e,(t=>e.style.setProperty(n,t))):e.style.setProperty(n,t)},(t,n)=>{t instanceof Array&&t.unset_to(e),e.style.removeProperty(n)}],inner:e=>[(t,n)=>{const s=t instanceof MahadElem?t.elem:t instanceof Node?t:new Text(t);n===e.childNodes.length?e.append(s):e.insertBefore(s,e.childNodes[n])},(t,n)=>{e.childNodes[n].remove()}]};e.MahadElem=class e extends MahadObject{constructor(e="div"){super(),this.name=e,this.elem=document.createElement(this.name),this.elem[s]=this}attr(e,t=[""]){if(e in this)return this[e];{const n=a[e];return n&&this.modify(e,t.guard(null,...n(this.elem,t))),t}}attach(t){if("string"==typeof t)document.querySelector(t).append(this.elem);else if(t instanceof HTMLElement)t.append(this.elem);else{if(!(t instanceof e))throw"Unexpect attach target";t.attr("inner").suffix(this)}}}})(globalThis);